"use strict";(self["webpackChunkvue_sctwo"]=self["webpackChunkvue_sctwo"]||[]).push([[120],{3120:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Box"},[s("div",{staticClass:"details-picture"},[s("div",{},[s("a",{attrs:{href:"https://www.youtube.com/watch?v="+t.sj.hearf,target:"_blank"}},[s("img",{attrs:{src:"https://image.tmdb.org/t/p/w500"+t.sj.imageSrc1,alt:""}})])]),s("div",{staticClass:"picture-mx"},[s("div",{staticClass:"mtitle"},[s("div",{staticClass:"bj-box1"},[t._v(" "+t._s(t.sj.title))]),s("div",{staticClass:"bj-box1"},[s("el-rate",{on:{change:t.starf},model:{value:t.sj.star,callback:function(e){t.$set(t.sj,"star",e)},expression:"sj.star"}})],1),s("a",{attrs:{href:"#"}},[s("div",{staticClass:"bj-box1",on:{click:t.collect}},[s("i",{staticClass:"el-icon-goods"})])])]),s("div",{staticClass:"bq-box"},[s("div",{staticClass:"bq-box1"},[s("div",{staticClass:"title-bq"},[t._v("runtime")]),s("div",[t._v(" "+t._s(t.sj.runtime))])]),s("div",{staticClass:"bq-box1"},[s("div",{staticClass:"title-bq"},[t._v("Genre")]),s("div",[t._v(t._s(t.sj.genres))])])]),s("div",{staticClass:"bq-box"},[s("div",{staticClass:"bq-box1"},[s("div",{staticClass:"title-bq"},[t._v("rating")]),s("div",[t._v(t._s(t.sj.fz))])]),t._m(0)])])]),s("div",[t._v("   "+t._s(t.sj.jj))]),s("div",{staticClass:"category_jj"},[s("div",{staticClass:"head"},[s("div",{staticStyle:{"font-size":"20px",position:"absolute",top:"15px",left:"2px"}},[t._v(t._s(t.username)+":")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstComments,expression:"firstComments"}],staticStyle:{"margin-left":"25px"},attrs:{type:"text",placeholder:"Please enter a comment.."},domProps:{value:t.firstComments},on:{input:function(e){e.target.composing||(t.firstComments=e.target.value)}}}),s("button",{on:{click:t.sumbit}},[t._v("add a comment")])]),s("div",{staticClass:"content"},t._l(t.comment,(function(e,i){return s("div",{key:i,staticClass:"first"},[s("div",{staticClass:"first-img"}),s("div",{staticClass:"first-content"},[s("span",[t._v(t._s(e.cid)+": ")]),s("span",{staticClass:"first-time"},[t._v(t._s(e.ctimeStr))]),s("p",{staticClass:"first-comment"},[t._v(t._s(e.cstr))])])])})),0)]),s("div",{staticClass:"h-title"},[t._v(" Similar Movies ")]),s("Picture3",{attrs:{rm:t.rm}}),s("div",{staticClass:"h-title"},[t._v(" Recommendation movie ")]),s("Picture3",{attrs:{rm:t.tj}})],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bq-box1"},[s("div",{staticClass:"title-bq"},[t._v("voteCount")]),s("div",[t._v("-")])])}],a=s(7673),r=s(6198),o=(s(1332),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex-box"},t._l(t.rm,(function(e){return s("div",{key:e.id,staticClass:"content_movie",attrs:{index:e.id}},[s("a",{attrs:{href:"#"},on:{click:function(s){return t.omovie(e)}}},[s("el-image",{staticStyle:{width:"156px",height:"228px"},attrs:{src:"https://image.tmdb.org/t/p/w500"+e.imageSrc2,fit:t.fit}})],1),s("div",{staticClass:"title1"},[t._v(t._s(e.title))]),s("div",{staticClass:"mid"},[t._v(t._s(e.movieid))])])})),0)])}),c=[],u={name:"Login",props:["rm"],components:{},data:function(){return{rm:[]}},created:function(){},mounted:function(){},methods:{omovie:function(t){var e=this;return(0,r.Z)((0,a.Z)().mark((function s(){return(0,a.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log("v",t),window.sessionStorage.setItem("mid",t.movieid),e.$router.push("/Details2");case 3:case"end":return s.stop()}}),s)})))()}}},m=u,l=s(1001),d=(0,l.Z)(m,o,c,!1,null,"d75477b2",null),v=d.exports,f={name:"Login",components:{Picture3:v},data:function(){return{sj:{},mid:"",username:"Not logged in",firstComments:"",lbList:[1,2],rm:[],tj:[],comment:[],hearfs:"https://fanyi.youdao.com/index.html#/"}},created:function(){},beforeCreate:function(){},beforeDestroy:function(){},mounted:function(){this.getmid()},methods:{collect:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t.sj.star),"Not logged in"==t.username){e.next=9;break}return t.sj.uid=window.sessionStorage.getItem("cid"),e.next=5,t.$afuntion.httsPost("/api/ratings/collect",t.sj);case 5:e.sent,t.$message.success("You have collected successfully!"),e.next=10;break;case 9:return e.abrupt("return",t.$message.error("!"));case 10:case"end":return e.stop()}}),e)})))()},sumbit:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){var s,i,n;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=window.sessionStorage.getItem("cid"),i=window.sessionStorage.getItem("username"),!s){e.next=6;break}""!=t.firstComments?(n={cid:i,uid:s,ctimeStr:new Date,cstr:t.firstComments},t.comment.unshift(n),n.mid=t.sj.movieid,t.$afuntion.httsPost("/api/ratings/sumbit",n),t.$message.success("Thanks for participating, comment success!"),t.firstComments=""):t.$message.error("You cannot enter an empty comment!"),e.next=7;break;case 6:return e.abrupt("return",t.$message.error("Please login to your account before Posting comments!"));case 7:case"end":return e.stop()}}),e)})))()},starf:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t.sj.star),"Not logged in"==t.username){e.next=9;break}return t.sj.uid=window.sessionStorage.getItem("cid"),e.next=5,t.$afuntion.httsPost("/api/ratings/jsData",t.sj);case 5:e.sent,t.$message.success("Thank you for your participation. Score success:"+t.star+"Mark"),e.next=10;break;case 9:return e.abrupt("return",t.$message.error("Please log in your account first before you can score!"));case 10:case"end":return e.stop()}}),e)})))()},getmid:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.mid=window.sessionStorage.getItem("mid"),s=window.sessionStorage.getItem("username"),s&&(t.username=s),t.gettjxs(),t.getLb();case 5:case"end":return e.stop()}}),e)})))()},gettjxs:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$afuntion.httsGet("./api/ratings/mid?mid="+t.mid);case 2:s=e.sent,t.sj=s.obj,t.comment=s.obj.comment;case 5:case"end":return e.stop()}}),e)})))()},getLb:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$afuntion.httsGet("./api/ratings/getLb?mid="+t.mid);case 2:s=e.sent,t.rm=s.xs,t.tj=s.tj;case 5:case"end":return e.stop()}}),e)})))()}}},p=f,g=(0,l.Z)(p,i,n,!1,null,"484aa1b0",null),h=g.exports},1332:function(t,e,s){var i=s(144);e["Z"]=new i["default"]}}]);
//# sourceMappingURL=120-legacy.13efcbb3.js.map